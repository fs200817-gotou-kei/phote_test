import 'dart:typed_data';

import 'package:flutter/material.dart';
import 'package:http/http.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      theme: ThemeData(),
      home: const DemoPage(),
    );
  }
}

class DemoPage extends StatefulWidget {
  const DemoPage({Key? key}) : super(key: key);

  @override
  State<DemoPage> createState() => _DemoPageState();
}

class _DemoPageState extends State<DemoPage> {
  Uint8List? bytes;

  /// ネットワーク上の画像をBytesデータに変換
  Future<void> networkImageToBytes() async {
    // http で取得すると普通に bytes として取り出せる。
    final response = await get(Uri.parse(
        'data:image/jpeg;base64,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'));
    bytes = response.bodyBytes;
    setState(() {});
  }

  @override
  void initState() {
    super.initState();
    networkImageToBytes();
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: const Text(
          'ネット画像をバイトデータに変換',
          style: TextStyle(
            fontWeight: FontWeight.bold,
          ),
        ),
      ),
      body: Center(
        child: bytes == null
            ? const Text(
                '変換中',
                style: TextStyle(
                  fontSize: 40,
                ),
              )
            : Image.memory(bytes!),
      ),
    );
  }
}
